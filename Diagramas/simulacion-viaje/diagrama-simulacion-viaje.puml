@startuml diagrama-simulacion-viaje
!theme plain
title Caso de Uso - SimulaciÃ³n de Viaje (Uber_Trip_Simulation)

actor "Usuario" as U
participant "UserUI" as UI
participant "TripFlowController" as TFC
participant "Trip" as T
participant "Driver" as D

== Solicitud del Viaje ==
note over UI
  Usuario quiere solicitar un viaje
end note

UI --> U: "ğŸš— Â¿A dÃ³nde quieres ir?"

U -> UI: Escribir "Corrientes"
UI -> TFC: solicitarViaje()
TFC --> UI: destinos encontrados

UI --> U: "ğŸ“ Direcciones:\nâ€¢ Av. Corrientes 1234\nâ€¢ Corrientes y Florida"

== SelecciÃ³n y CreaciÃ³n ==
U -> UI: Seleccionar "Av. Corrientes 1234"
UI -> TFC: crear viaje
TFC -> T: new Trip(destino seleccionado)
T -> T: setStatus(SOLICITADO)

== BÃºsqueda de Conductor ==
UI --> U: "ğŸ” Buscando conductor..."

TFC -> D: isAvailable()
D --> TFC: true âœ…
TFC -> T: assignDriver("Carlos PÃ©rez")
T -> T: setStatus(ACEPTADO)

== Conductor Asignado ==
UI --> U: "âœ… Conductor: Carlos PÃ©rez\nğŸš— Toyota Corolla - ABC123\nâ­ CalificaciÃ³n: 4.9"

UI --> U: "â° LlegarÃ¡ en 10 minutos"

== Llegada y Viaje ==
UI --> U: "ğŸš— Carlos estÃ¡ llegando..."
UI --> U: "âœ… Tu conductor ha llegado"

UI -> TFC: iniciarViaje(trip)
TFC -> T: start()
T -> T: setStatus(EN_PROGRESO)

UI --> U: "ğŸ›£ï¸ En viaje hacia destino..."

== FinalizaciÃ³n ==
UI -> TFC: completarViaje(trip)
TFC -> T: complete()
T -> T: setStatus(COMPLETADO)

UI --> U: "ğŸ¯ Â¡Llegaste a tu destino!"
UI --> U: "â­ CalificÃ¡ tu viaje con Carlos:"

note over U
  Viaje completado:
  
  âœ… Destino alcanzado
  âœ… Experiencia exitosa
  âœ… Listo para calificar
end note

@enduml
